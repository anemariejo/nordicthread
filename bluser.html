<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="produkter.css">
    <title>Bluser</title>
</head>

<body>
    <header class="fixedHeader fade-header">
        <ul>
            <li class="dropdownProdukter">
                <button id="produkterTekst" onclick="window.location.href='index.html?scroll=produktSection'" class="headerText"
                    style="background:none; border:none; cursor:pointer;">
                    PRODUKTER
                </button>
                <div class="dropdown-fullwidth-wrapper">
                    <div class="dropdown-hover-area"></div>
                    <div class="dropdown-content">
                        <a href="bluser.html" id="linkBluser">BLUSER</a>
                        <a href="skjerf.html" id="linkSkjerf">SKJERF</a>
                        <a href="secondthread.html" id="linkSecondThread">SECOND THREAD</a>
                    </div>

                </div>
            </li>

            <li>
                <a href="index.html" class="headerTitle" id="mainPageBtn" title="Gå til forsiden">
                    <span id="logoText">Nordic Thread</span>
                </a>
            </li>

            <li class="rightMenu">
                <button id="langBtn" class="headerText" style="background:none; border:none; cursor:pointer;">
                    EN
                </button>
                <a href="omOss.html" class="headerText" id="omOssHjorne">OM OSS</a>
            </li>

            <!-- Hamburger (for mobil) -->
            <li class="hamburger">
                <div id="hamburgerBtn">&#9776;</div>
            </li>
        </ul>

        <!-- Mobile menu overlay -->
        <div id="mobileMenu" class="mobile-menu">
            <div id="closeMenu">&times;</div>
            <a href="index.html?scroll=produktSection" id="mobileProdukter">PRODUKTER</a>
            <a href="#" id="langMobileBtn">EN</a>
            <a href="omOss.html" id="mobileOmOss">OM OSS</a>
        </div>

    </header>

    <div class="whiteStripeBackground"></div>

    <div class="typeProdukt">
        <h1>BLUSER</h1>
        <p>Kvalitetsbluser i nye materialer. Sys på bestilling i størrelser XS – XL.</p>
    </div>

    <div id="produkterContainer" class="produkter"></div>

    <footer id="footerProdukter"
        style="text-align:center; padding:20px; background-color:#627D98; font-family:sans-serif;">
        <p id="footerText" style="color: #ffffff;">© 2025 Nordic Thread. Alle rettigheter reservert.</p>
        <div style="margin-top:10px; display:flex; justify-content:center; gap:20px; align-items:center;">
            <!-- E-post ikon -->
            <a id="footerEmail" href="mailto:nordicthread@outlook.com"
                style="text-decoration:none; color:#ffffff; display:flex; align-items:center; gap:5px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                    <path
                        d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.708 2.825L15 12.383V5.383zM14.8 13H1.2l4.708-2.825L8 10.117l2.092-1.942L14.8 13zM1 12.383l4.708-2.175L1 5.383v7z" />
                </svg>
                nordicthread@outlook.com
            </a>

            <!-- Instagram ikon -->
            <a href="https://www.instagram.com/nordicthread.co" target="_blank"
                style="text-decoration:none; color:#ffffff; display:flex; align-items:center; gap:5px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                    <path
                        d="M8 0C5.244 0 4.977.003 4.224.05c-.75.047-1.262.201-1.71.428a3.381 3.381 0 0 0-1.233.806A3.381 3.381 0 0 0 .05 2.711c-.227.448-.381.96-.428 1.71C-.003 5.977 0 6.244 0 8c0 1.756.003 2.023.05 2.776.047.75.201 1.262.428 1.71a3.381 3.381 0 0 0 .806 1.233 3.381 3.381 0 0 0 1.233.806c.448.227.96.381 1.71.428C5.977 16.003 6.244 16 8 16c1.756 0 2.023.003 2.776-.05.75-.047 1.262-.201 1.71-.428a3.381 3.381 0 0 0 1.233-.806 3.381 3.381 0 0 0 .806-1.233c.227-.448.381-.96.428-1.71C16.003 10.023 16 9.756 16 8c0-1.756-.003-2.023-.05-2.776-.047-.75-.201-1.262-.428-1.71a3.381 3.381 0 0 0-.806-1.233 3.381 3.381 0 0 0-1.233-.806c-.448-.227-.96-.381-1.71-.428C10.023.003 9.756 0 8 0zM8 1.44c1.732 0 1.94.007 2.623.038.675.031 1.043.144 1.287.24.322.124.552.274.794.516.242.242.392.472.516.794.096.244.209.612.24 1.287.031.683.038.891.038 2.623s-.007 1.94-.038 2.623c-.031.675-.144 1.043-.24 1.287a2.11 2.11 0 0 1-.516.794 2.11 2.11 0 0 1-.794.516c-.244.096-.612.209-1.287.24-.683.031-.891.038-2.623.038s-1.94-.007-2.623-.038c-.675-.031-1.043-.144-1.287-.24a2.11 2.11 0 0 1-.794-.516 2.11 2.11 0 0 1-.516-.794c-.096-.244-.209-.612-.24-1.287C1.447 9.94 1.44 9.732 1.44 8s.007-1.94.038-2.623c.031-.675.144-1.043.24-1.287a2.11 2.11 0 0 1 .516-.794 2.11 2.11 0 0 1 .794-.516c.244-.096.612-.209 1.287-.24C6.06 1.447 6.268 1.44 8 1.44zM8 3.88a4.12 4.12 0 1 0 0 8.24 4.12 4.12 0 0 0 0-8.24zm0 6.76a2.64 2.64 0 1 1 0-5.28 2.64 2.64 0 0 1 0 5.28zm4.406-6.906a.96.96 0 1 1-1.92 0 .96.96 0 0 1 1.92 0z" />
                </svg>
                Instagram
            </a>
        </div>
    </footer>

    <script src="translations.js"></script>
    <script>
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const closeMenu = document.getElementById('closeMenu');

        hamburgerBtn.addEventListener('click', () => {
            mobileMenu.style.display = 'flex';
        });

        closeMenu.addEventListener('click', () => {
            mobileMenu.style.display = 'none';
        });

    </script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            let lang = localStorage.getItem("lang") || "no";
            const langBtn = document.getElementById("langBtn");
            let bluser = []; // lagres globalt så vi kan re-render på språkbytte

            // Funksjon for å rendre produktene
            function renderBluser() {
                const container = document.getElementById("produkterContainer");
                if (!container) return; // sjekk at container finnes
                container.innerHTML = ""; // tøm før re-render

                bluser.forEach(product => {
                    const section = document.createElement("section");
                    section.classList.add("bluse");

                    section.innerHTML = `
                <a href="product.html?id=${product.id}" style="text-decoration:none; color:inherit;">
                    <img src="${product.images[0]}" alt="${product.translations[lang].name}">
                    <div class="bildetekst">
                        <h2>${product.translations[lang].name}</h2>
                        <p><strong>kr ${product.price},-</strong></p>
                    </div>
                </a>
            `;
                    container.appendChild(section);
                });
            }

            // Funksjon for å oppdatere alt tekstinnhold
            function updateLanguage() {
                const produkterBtn = document.getElementById('produkterBtn');
                if (produkterBtn) produkterBtn.innerHTML = translations[lang].produkterText;

                const footerText = document.getElementById('footerText');
                if (footerText) footerText.innerHTML = translations[lang].footerText;

                const omOssHjorne = document.getElementById('omOssHjorne');
                if (omOssHjorne) omOssHjorne.innerHTML = translations[lang].omOssHjorne;

                const dropdownProdukterBtn = document.querySelector(".dropdownProdukter button");
                if (dropdownProdukterBtn) dropdownProdukterBtn.textContent = translations[lang].produkter;

                // Dropdown meny (desktop)
                document.querySelector(".dropdownProdukter button").textContent = translations[lang].produkter;

                const bluserLink = document.getElementById("linkBluser");
                if (bluserLink) bluserLink.textContent = translations[lang].bluser;

                const skjerfLink = document.getElementById("linkSkjerf");
                if (skjerfLink) skjerfLink.textContent = translations[lang].skjerf;

                const secondThreadLink = document.getElementById("linkSecondThread");
                if (secondThreadLink) secondThreadLink.textContent = translations[lang].secondThread;

                const typeProduktTitle = document.querySelector('.typeProdukt h1');
                if (typeProduktTitle) typeProduktTitle.innerHTML = translations[lang].typeProduktTitle;

                const typeProduktDesc = document.querySelector('.typeProdukt p');
                if (typeProduktDesc) typeProduktDesc.innerHTML = translations[lang].typeProduktDesc;

                // Oppdater språk-knapp
                if (langBtn) langBtn.textContent = lang === "no" ? "EN" : "NO";

                // Re-render produktene med nytt språk
                renderBluser();
            }

            // Språk-knapp
            if (langBtn) {
                langBtn.addEventListener("click", () => {
                    lang = lang === "no" ? "en" : "no";
                    localStorage.setItem("lang", lang);
                    updateLanguage();
                });
            }

            // Første gang
            updateLanguage();

            // Hent produkter og lagre i bluser[] (kun "bluse", ikke "stBluse")
            fetch("./data/products.json")
                .then(response => response.json())
                .then(products => {
                    bluser = products.filter(p => {
                        if (Array.isArray(p.type)) {
                            return p.type.includes("bluse") && !p.type.includes("stBluse");
                        } else {
                            return p.type === "bluse";
                        }
                    });
                    renderBluser(); // render første gang
                })
                .catch(error => console.error("Kunne ikke laste produkter:", error));
        });
    </script>



</body>

</html>